Layer	OddAtoms(n^3)	EvenAtoms((n-1)^3)	NewAtoms L(n)=N(n)-N(n-1)	CumulativeLayer N(n)=n^3+(n-1)^3	CumulativeTotal R(n)	TriangularNum T(x)
1       1           0           1               1               1           T(1  ) -> T(1^2)
2       8           1           8               9               10          T(4  ) -> T(2^2)
3       27          8           26              35              45          T(9  ) -> T(3^2)
4       64          27          56              91              136         T(16 ) -> T(4^2)
5       125         64          98              189             325         T(25 ) -> T(5^2)
6       216         125         152             341             666         T(36 ) -> T(6^2)
7       343         216         218             559             1225        T(49 ) -> T(7^2)
8       512         343         296             855             2080        T(64 ) -> T(8^2)
9       729         512         386             1241            3321        T(81 ) -> T(9^2)
10      1000        729         488             1729            5050        T(100) -> T(10^2)
11      1331        1000        602             2331            7381        T(121) -> T(11^2)
12      1728        1331        728             3059            10440       T(144) -> T(12^2)
13      2197        1728        866             3925            14365       T(169) -> T(13^2)
14      2744        2197        1016            4941            19306       T(196) -> T(14^2)
15      3375        2744        1178            6119            25425       T(225) -> T(15^2)
16      4096        3375        1352            7471            32896       T(256) -> T(16^2)
17      4913        4096        1538            9009            41905       T(289) -> T(17^2)
18      5832        4913        1736            10745           52650       T(324) -> T(18^2)
19      6859        5832        1946            12691           65341       T(361) -> T(19^2)
20      8000        6859        2168            14859           80200       T(400) -> T(20^2)
21      9261        8000        2402            17261           97461       T(441) -> T(21^2)
22      10648       9261        2648            19909           117370      T(484) -> T(22^2)
23      12167       10648       2906            22815           140185      T(529) -> T(23^2)
24      13824       12167       3176            25991           166176      T(576) -> T(24^2)
25      15625       13824       3458            29449           195625      T(625) -> T(25^2)
26      17576       15625       3752            33201           228826      T(676) -> T(26^2)
27      19683       17576       4058            37259           266085      T(729) -> T(27^2)
28      21952       19683       4376            41635           307720      T(784) -> T(28^2)
29      24389       21952       4706            46341           354061      T(841) -> T(29^2)
30      27000       24389       5048            51389           405450      T(900) -> T(30^2)

下面给出一个详细的证明，说明为什么累计总数
\[
R(n)=\sum_{k=1}^{n} \Bigl[N(k)\Bigr]=\sum_{k=1}^{n} \Bigl[k^3+(k-1)^3\Bigr]
\]
正好等于三角数
\[
T(n^2)=\frac{n^2\bigl(n^2+1\bigr)}{2}.
\]

我们从已知条件出发：

1. 每一层的“层内总数”（CumulativeLayer）定义为
   \[
   N(k)=k^3+(k-1)^3.
   \]

2. 从第 1 层到第 n 层的累计总数为
   \[
   R(n)=\sum_{k=1}^{n} N(k)=\sum_{k=1}^{n}\Bigl[k^3+(k-1)^3\Bigr].
   \]

### 分步证明

#### 第一步：拆分求和

把 \(R(n)\) 拆分成两个求和：
\[
R(n) = \sum_{k=1}^{n} k^3 + \sum_{k=1}^{n} (k-1)^3.
\]
注意到当 \(k=1\) 时，\((1-1)^3=0\)；因此第二个求和可以令变量替换，令 \(j=k-1\)，则当 \(k=1,\ j=0\)；\(k=n,\ j=n-1\)：
\[
\sum_{k=1}^{n} (k-1)^3 = \sum_{j=0}^{n-1} j^3 = \sum_{j=1}^{n-1} j^3,
\]
因为 \(0^3=0\) 对求和没有贡献。

因此：
\[
R(n) = \sum_{k=1}^{n} k^3 + \sum_{j=1}^{n-1} j^3.
\]

#### 第二步：利用已知的立方和公式

我们利用公式：
\[
\sum_{k=1}^{m} k^3 = \left(\frac{m(m+1)}{2}\right)^2.
\]
将此公式分别应用于 \(m=n\) 和 \(m=n-1\) 得：
- \(\displaystyle \sum_{k=1}^{n} k^3 = \left[\frac{n(n+1)}{2}\right]^2\),
- \(\displaystyle \sum_{j=1}^{n-1} j^3 = \left[\frac{(n-1)n}{2}\right]^2.\)

代入 \(R(n)\) 得：
\[
R(n) = \left[\frac{n(n+1)}{2}\right]^2 + \left[\frac{(n-1)n}{2}\right]^2.
\]
也可以写成：
\[
R(n) = \frac{n^2(n+1)^2 + n^2(n-1)^2}{4}.
\]

#### 第三步：化简表达式

将 \(n^2\) 提出来：
\[
R(n) = \frac{n^2\left[(n+1)^2+(n-1)^2\right]}{4}.
\]
计算括号内的表达式：
\[
(n+1)^2+(n-1)^2 = \bigl(n^2+2n+1\bigr)+\bigl(n^2-2n+1\bigr)= 2n^2+2=2\left(n^2+1\right).
\]
因此，
\[
R(n) = \frac{n^2\Bigl[2(n^2+1)\Bigr]}{4} = \frac{n^2\bigl(n^2+1\bigr)}{2}.
\]

#### 第四步：认识三角数的定义

三角数 \(T(m)\) 的一般定义为：
\[
T(m) = \frac{m(m+1)}{2}.
\]
令 \(m = n^2\) 得：
\[
T\bigl(n^2\bigr)= \frac{n^2\left(n^2+1\right)}{2}.
\]

因此，
\[
R(n)=\frac{n^2\bigl(n^2+1\bigr)}{2} = T\bigl(n^2\bigr).
\]

### 小结

我们证明了累计总数
\[
R(n)=\sum_{k=1}^{n}\left[k^3+(k-1)^3\right]
\]
经过适当化简后正好等于
\[
\frac{n^2\bigl(n^2+1\bigr)}{2},
\]
而这就是将 \(n^2\) 带入三角数公式 \(T(m)=\frac{m(m+1)}{2}\) 得到的结果，即
\[
T\bigl(n^2\bigr).
\]

这就解释了为什么在表格中，累计总数 \(R(n)\) 对应的三角数分别为 \(T(1),T(4),T(9),T(16)\)（其中 \(1,4,9,16\) 分别为 \(1^2,2^2,3^2,4^2\)）。

---

这就是证明“CumulativeTotal 正好等于 TriangularNum”的全部过程。
